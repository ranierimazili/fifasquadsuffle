var estrutura = {
	"participantes" : [
		"Jian"
		,"Rafael"
		,"Magnun"
		,"Daniel"
		,"Léo Batista"
		,"Dudu"
		,"Jesse"
		,"Leo"
		,"Ariam"
		,"Jammes"
		,"Hélio"
		,"Cristiano Lopes"
		,"Ranieri"
		,"Willian Martins"
		,"Danilo"
		,"Patinho"
		,"Edmar"
		,"André"
		,"Éder"
	],
	"times" : [
	  "FC Barcelona",
	  "Real Madrid",
	  "Juventus",
	  "Paris Saint-Germain",
	  "Manchester City",
	  "Liverpool",
	  "FC Bayern München",
	  "Atlético Madrid",
	  "Tottenham Hotspur",
	  "Napoli",
	  "Borussia Dortmund",
	  "Inter",
	  "Manchester United",
	  "Lazio",
	  "Valencia CF",
	  "Chelsea",
	  "Arsenal",
	  "RB Leipzig",
	  "Real Betis",
	  "Bayer 04 Leverkusen"
	],
	"posicoes" : [
		"Goleiro"
		,"Lateral Direito"
		,"Zagueiro 1"
		,"Zagueiro 2"
		,"Lateral Esquerdo"
		,"Volante 1"
		,"Volante 2"
		,"Meio Campo"
		,"Atacante 1"
		,"Atacante 2"
		,"Atacante 3"
		,"Reserva - Lateral Direto"
		,"Reserva - Zagueiro"
		,"Reserva - Lateral Esquerdo"
		,"Reserva - Meia 1"
		,"Reserva - Meia 2"
		,"Reserva - Atacante 1"
		,"Reserva - Atacante 2"
	],
	"jogadores" : {
		"Goleiro" : [
		  "Jan Oblak - (Atlético Madrid)",
		  "Alisson - (Liverpool)",
		  "Marc-André ter Stegen - (FC Barcelona)",
		  "Manuel Neuer - (FC Bayern München)",
		  "Ederson - (Manchester City)",
		  "De Gea - (Manchester United)",
		  "Thibaut Courtois - (Real Madrid)",
		  "Samir Handanovič - (Inter)",
		  "Keylor Navas - (Paris Saint-Germain)",
		  "Wojciech Szczęsny - (Juventus)",
		  "Hugo Lloris - (Tottenham Hotspur)",
		  "Yann Sommer - (Borussia Mönchengladbach)",
		  "Gianluigi Donnarumma - (Milan)",
		  "André Onana - (Ajax)",
		  "Bernd Leno - (Arsenal)",
		  "Roman Bürki - (Borussia Dortmund)",
		  "Péter Gulácsi - (RB Leipzig)",
		  "Anthony Lopes - (Olympique Lyonnais)",
		  "Neto - (FC Barcelona)"
		],
		"Lateral Direito" : [
			"Joshua Kimmich - (FC Bayern München)",
			"Trent Alexander-Arnold - (Liverpool)",
			"Carvajal - (Real Madrid)",
			"Ricardo Pereira - (Leicester City)",
			"Azpilicueta - (Chelsea)",
			"Kevin Mbabu - (VfL Wolfsburg)",
			"Kyle Walker - (Manchester City)",
			"Achraf Hakimi - (Borussia Dortmund)",
			"Aaron Wan-Bissaka - (Manchester United)",
			"Nélson Semedo - (FC Barcelona)",
			"João Cancelo - (Manchester City)",
			"Sergi Roberto - (FC Barcelona)",
			"Jesús Corona - (FC Porto)",
			"Danny da Costa - (Eintracht Frankfurt)",
			"Lukas Klostermann - (RB Leipzig)",
			"Alessandro Florenzi - (Valencia CF)",
			"Thomas Meunier - (Paris Saint-Germain)",
			"Kieran Trippier - (Atlético Madrid)",
			"Lars Bender - (Bayer 04 Leverkusen)"
		],
		"Lateral Esquerdo" : [
			"Andrew Robertson - (Liverpool)",
			"Jordi Alba - (FC Barcelona)",
			"Nico Schulz - (Borussia Dortmund)",
			"Kieran Tierney - (Arsenal)",
			"Alex Telles - (FC Porto)",
			"Alex Sandro - (Juventus)",
			"Marcelo - (Real Madrid)",
			"Nicolás Tagliafico - (Ajax)",
			"Grimaldo - (SL Benfica)",
			"Raphaël Guerreiro - (Borussia Dortmund)",
			"Lucas Digne - (Everton)",
			"David Alaba - (FC Bayern München)",
			"Daley Blind - (Ajax)",
			"Theo Hernández - (Milan)",
			"Aleksandar Kolarov - (Roma)",
			"Ben Chilwell - (Leicester City)",
			"Ferland Mendy - (Real Madrid)",
			"Jordan Lukaku - (Lazio)",
			"Gayà - (Valencia CF)"
		],
		"Zagueiro 1" : [
			"Virgil van Dijk - (Liverpool)",
			"Sergio Ramos - (Real Madrid)",
			"Kalidou Koulibaly - (Napoli)",
			"Piqué - (FC Barcelona)",
			"Giorgio Chiellini - (Juventus)",
			"Aymeric Laporte - (Manchester City)",
			"Diego Godín - (Inter)",
			"Mats Hummels - (Borussia Dortmund)",
			"Thiago Silva - (Paris Saint-Germain)",
			"Milan Škriniar - (Inter)",
			"Clément Lenglet - (FC Barcelona)",
			"Marquinhos - (Paris Saint-Germain)",
			"Raphaël Varane - (Real Madrid)",
			"Leonardo Bonucci - (Juventus)",
			"Toby Alderweireld - (Tottenham Hotspur)",
			"Matthijs de Ligt - (Juventus)",
			"José María Giménez - (Atlético Madrid)",
			"Niklas Süle - (FC Bayern München)",
			"Samuel Umtiti - (FC Barcelona)"
		],
		"Zagueiro 2" : [
			"Stefan de Vrij - (Inter)",
			"Jan Vertonghen - (Tottenham Hotspur)",
			"Lucas Hernández - (FC Bayern München)",
			"Felipe - (Atlético Madrid)",
			"Francesco Acerbi - (Lazio)",
			"Kostas Manolas - (Napoli)",
			"Josué Chiamulera - (Grêmio)",
			"Dakonam Djené - (Getafe CF)",
			"Alessio Romagnoli - (Milan)",
			"Stefan Savić - (Atlético Madrid)",
			"Harry Maguire - (Manchester United)",
			"Gabriel Paulista - (Valencia CF)",
			"Bartra - (Real Betis)",
			"Miranda - (Jiangsu Suning)",
			"Joel Matip - (Liverpool)",
			"Ezequiel Garay - (Valencia CF)",
			"Éder Militão - (Real Madrid)",
			"Joe Gomez - (Liverpool)",
			"Sokratis - (Arsenal)"
		],
		"Volante 1" : [
			"N'Golo Kanté - (Chelsea)",
			"Casemiro - (Real Madrid)",
			"Sergio Busquets - (FC Barcelona)",
			"Blaise Matuidi - (Juventus)",
			"Marco Verratti - (Paris Saint-Germain)",
			"Paul Pogba - (Manchester United)",
			"Fabinho - (Liverpool)",
			"Thiago - (FC Bayern München)",
			"Miralem Pjanić - (Juventus)",
			"Rodri - (Manchester City)",
			"Sergej Milinković-Savić - (Lazio)",
			"Paulinho - (Guangzhou Evergrande Taobao FC)",
			"Jordan Henderson - (Liverpool)",
			"Georginio Wijnaldum - (Liverpool)",
			"Axel Witsel - (Borussia Dortmund)",
			"Fernandinho - (Manchester City)",
			"Wilfred Ndidi - (Leicester City)",
			"Thomas Partey - (Atlético Madrid)",
			"Leon Goretzka - (FC Bayern München)"
		],
		"Volante 2" : [
			"Kevin De Bruyne - (Manchester City)",
			"Toni Kroos - (Real Madrid)",
			"Luka Modrić - (Real Madrid)",
			"Bernardo Silva - (Manchester City)",
			"Christian Eriksen - (Inter)",
			"Parejo - (Valencia CF)",
			"Frenkie de Jong - (FC Barcelona)",
			"Bruno Fernandes - (Manchester United)",
			"Koke - (Atlético Madrid)",
			"Arthur - (FC Barcelona)",
			"Saúl - (Atlético Madrid)",
			"Luis Alberto - (Lazio)",
			"Pizzi - (SL Benfica)",
			"Isco - (Real Madrid)",
			"Coutinho - (FC Bayern München)",
			"Ivan Rakitić - (FC Barcelona)",
			"Moussa Sissoko - (Tottenham Hotspur)",
			"Mateo Kovačić - (Chelsea)",
			"Allan - (Napoli)"
		],
		"Meio Campo" : [
			"Paulo Dybala - (Juventus)",
			"Marco Reus - (Borussia Dortmund)",
			"David Silva - (Manchester City)",
			"Jadon Sancho - (Borussia Dortmund)",
			"Hakim Ziyech - (Ajax)",
			"Alejandro Gómez - (Atalanta)",
			"Nabil Fekir - (Real Betis)",
			"Kai Havertz - (Bayer 04 Leverkusen)",
			"Julian Brandt - (Borussia Dortmund)",
			"Memphis Depay - (Olympique Lyonnais)",
			"James Rodríguez - (Real Madrid)",
			"Jonathan Ikoné - (LOSC Lille)",
			"Oscar - (Shanghai SIPG FC)",
			"Ronaldo Cabrais - (Grêmio)",
			"Andrej Kramarić - (TSG 1899 Hoffenheim)",
			"Anderson Talisca - (Guangzhou Evergrande Taobao FC)",
			"Dele Alli - (Tottenham Hotspur)",
			"Quincy Promes - (Ajax)",
			"Dušan Tadić - (Ajax)"
		],
		"Atacante 1" : [
			"Lionel Messi - (FC Barcelona)",
			"Cristiano Ronaldo - (Juventus)",
			"Neymar Jr - (Paris Saint-Germain)",
			"Robert Lewandowski - (FC Bayern München)",
			"Eden Hazard - (Real Madrid)",
			"Mohamed Salah - (Liverpool)",
			"Sadio Mané - (Liverpool)",
			"Sergio Agüero - (Manchester City)",
			"Kylian Mbappé - (Paris Saint-Germain)",
			"Harry Kane - (Tottenham Hotspur)",
			"Antoine Griezmann - (FC Barcelona)",
			"Luis Suárez - (FC Barcelona)",
			"Raheem Sterling - (Manchester City)",
			"Pierre-Emerick Aubameyang - (Arsenal)",
			"Karim Benzema - (Real Madrid)",
			"Heung Min Son - (Tottenham Hotspur)",
			"Ciro Immobile - (Lazio)",
			"Ángel Di María - (Paris Saint-Germain)",
			"Dries Mertens - (Napoli)"
		],
		"Atacante 2" : [
			"Leroy Sané - (Manchester City)",
			"Timo Werner - (RB Leipzig)",
			"Jamie Vardy - (Leicester City)",
			"Riyad Mahrez - (Manchester City)",
			"Mauro Icardi - (Paris Saint-Germain)",
			"Lorenzo Insigne - (Napoli)",
			"Romelu Lukaku - (Inter)",
			"Edinson Cavani - (Paris Saint-Germain)",
			"Roberto Firmino - (Liverpool)",
			"Serge Gnabry - (FC Bayern München)",
			"Iago Aspas - (RC Celta)",
			"Gareth Bale - (Real Madrid)",
			"Gonzalo Higuaín - (Juventus)",
			"Zlatan Ibrahimović - (Milan)",
			"Marcus Rashford - (Manchester United)",
			"Lautaro Martínez - (Inter)",
			"Kingsley Coman - (FC Bayern München)",
			"João Félix - (Atlético Madrid)",
			"Wissam Ben Yedder - (AS Monaco Football Club SA)"
		],
		"Atacante 3" : [
			"Alexandre Lacazette - (Arsenal)",
			"Douglas Costa - (Juventus)",
			"José Callejón - (Napoli)",
			"Edin Džeko - (Roma)",
			"Ousmane Dembélé - (FC Barcelona)",
			"Louri Beretta - (Atlético Mineiro)",
			"Oyarzabal - (Real Sociedad)",
			"Rafa - (SL Benfica)",
			"Duván Zapata - (Atalanta)",
			"Anthony Martial - (Manchester United)",
			"Filip Kostić - (Eintracht Frankfurt)",
			"Yannick Carrasco - (Atlético Madrid)",
			"Edin Višća - (Medipol Başakşehir FK)",
			"Arkadiusz Milik - (Napoli)",
			"Portu - (Real Sociedad)",
			"Florian Thauvin - (Olympique de Marseille)",
			"Raúl Jiménez - (Wolverhampton Wanderers)",
			"Thorgan Hazard - (Borussia Dortmund)",
			"Morata - (Atlético Madrid)"
		],
		"Reserva - Lateral Direto" : [
			"Benjamin Pavard - (FC Bayern München)",
			"Šime Vrsaljko - (Atlético Madrid)",
			"Łukasz Piszczek - (Borussia Dortmund)",
			"Daniel Wass - (Valencia CF)",
			"Odriozola - (FC Bayern München)",
			"Maikel Catarino - (Atlético Mineiro)",
			"Stefan Lainer - (Borussia Mönchengladbach)",
			"Capa - (Athletic Club)",
			"Rubén Peña - (Villarreal CF)",
			"Santiago Arias - (Atlético Madrid)",
			"Damián Suárez - (Getafe CF)",
			"Héctor Bellerín - (Arsenal)",
			"Pavel Kadeřábek - (TSG 1899 Hoffenheim)",
			"Leonardo Spinazzola - (Roma)",
			"Danilo - (Juventus)",
			"Domagoj Vida - (Beşiktaş JK)",
			"Serge Aurier - (Tottenham Hotspur)",
			"André Almeida - (SL Benfica)",
			"Mario Gaspar - (Villarreal CF)"
		]
		,"Reserva - Zagueiro" : [
			"Manuel Akanji - (Borussia Dortmund)",
			"Nathan Aké - (AFC Bournemouth)",
			"Eric Bailly - (Manchester United)",
			"Victor Lindelöf - (Manchester United)",
			"Diego Carlos - (Sevilla FC)",
			"Fikayo Tomori - (Chelsea)",
			"Raúl Albiol - (Villarreal CF)",
			"Egidio Maestre Schetino - (Free Agents)",
			"Rúben Dias - (SL Benfica)",
			"Juiano Mestres - (Cruzeiro)",
			"Presnel Kimpembe - (Paris Saint-Germain)",
			"Davinson Sánchez - (Tottenham Hotspur)",
			"Matthias Ginter - (Borussia Mönchengladbach)",
			"Antonio Rüdiger - (Chelsea)",
			"Marcano - (FC Porto)",
			"Vincent Kompany - (RSC Anderlecht)",
			"Pepe - (FC Porto)",
			"Tony Abranjes - (Palmeiras)",
			"Mario Hermoso - (Atlético Madrid)"
		]
		,"Reserva - Lateral Esquerdo" : [
			"Marcel Halstenberg - (RB Leipzig)",
			"Juan Bernat - (Paris Saint-Germain)",
			"Jérôme Roussillon - (VfL Wolfsburg)",
			"Marcos Alonso - (Chelsea)",
			"Yuri Berchiche - (Athletic Club)",
			"Mauro Evidio Nérez - (Free Agents)",
			"Reguilón - (Sevilla FC)",
			"Welington Dano - (Cruzeiro)",
			"Adryan Zonta - (São Paulo)",
			"Abdou Diallo - (Paris Saint-Germain)",
			"Luke Shaw - (Manchester United)",
			"Benjamin Mendy - (Manchester City)",
			"Ismaily - (Shakhtar Donetsk)",
			"Renan Lodi - (Atlético Madrid)",
			"Daniel Martín Lenzado - (Free Agents)",
			"Junior Firpo - (FC Barcelona)",
			"Cucurella - (Getafe CF)",
			"Antônio Chiamuloira - (Internacional)",
			"Oleksandr Zinchenko - (Manchester City)"
		]
		,"Reserva - Meia 1" : [
			"Juan Fernando Quintero - (River Plate)",
			"Canales - (Real Betis)",
			"Tanguy Ndombele - (Tottenham Hotspur)",
			"Radja Nainggolan - (Cagliari)",
			"João Moutinho - (Wolverhampton Wanderers)",
			"Fabián - (Napoli)",
			"Donny van de Beek - (Ajax)",
			"Thomas Delaney - (Borussia Dortmund)",
			"Marcel Sabitzer - (RB Leipzig)",
			"Aaron Ramsey - (Juventus)",
			"Sami Khedira - (Juventus)",
			"Marek Hamšík - (Dalian YiFang FC)",
			"Santi Cazorla - (Villarreal CF)",
			"Federico Valverde - (Real Madrid)",
			"Héctor Herrera - (Atlético Madrid)",
			"Denis Zakaria - (Borussia Mönchengladbach)",
			"Giovani Lo Celso - (Tottenham Hotspur)",
			"Rúben Neves - (Wolverhampton Wanderers)",
			"Ignacio Fernández - (River Plate)"
		]
		,"Reserva - Meia 2" : [
			"Pablo Sarabia - (Paris Saint-Germain)",
			"Muniain - (Athletic Club)",
			"Max Kruse - (Fenerbahçe SK)",
			"Mesut Özil - (Arsenal)",
			"Carlos Vela - (LAFC)",
			"José María Sildero - (Free Agents)",
			"Nuno Padrenda - (Palmeiras)",
			"Rosberto Dourado - (Atlético Mineiro)",
			"Steven Bergwijn - (Tottenham Hotspur)",
			"James Maddison - (Leicester City)",
			"Thomas Lemar - (Atlético Madrid)",
			"Julian Draxler - (Paris Saint-Germain)",
			"Felipe Anderson - (West Ham United)",
			"Taison - (Shakhtar Donetsk)",
			"Dimitri Payet - (Olympique de Marseille)",
			"Saúl Marcelo Ardero - (Free Agents)",
			"David Neres - (Ajax)",
			"Laure Santeiro - (Fluminense)",
			"Dani Ceballos - (Arsenal)"
		]
		,"Reserva - Atacante 1" : [
			"Wilfried Zaha - (Crystal Palace)",
			"Rodrigo - (Valencia CF)",
			"Juan Cuadrado - (Juventus)",
			"Marko Arnautović - (Shanghai SIPG FC)",
			"Ivan Perišić - (FC Bayern München)",
			"Luka Jović - (Real Madrid)",
			"Gabriel Jesus - (Manchester City)",
			"Oswaldinato - (Flamengo)",
			"Morales - (Levante UD)",
			"Nicolas Pépé - (Arsenal)",
			"Gonçalo Guedes - (Valencia CF)",
			"Marcos Acuña - (Sporting CP)",
			"Marco Asensio - (Real Madrid)",
			"Adama Traoré - (Wolverhampton Wanderers)",
			"Matteo Politano - (Napoli)",
			"Iñaki Williams - (Athletic Club)",
			"Ángel Correa - (Atlético Madrid)",
			"Alex Teixeira - (Jiangsu Suning)",
			"Moussa Dembélé - (Olympique Lyonnais)"
		]
		,"Reserva - Atacante 2" : [
			"Andrea Belotti - (Torino)",
			"Gerard Moreno - (Villarreal CF)",
			"Josef Martínez - (Atlanta United)",
			"Sébastien Haller - (West Ham United)",
			"Karim Bellarabi - (Bayer 04 Leverkusen)",
			"Lucas Moura - (Tottenham Hotspur)",
			"Kevin Volland - (Bayer 04 Leverkusen)",
			"Paco Alcácer - (Villarreal CF)",
			"Cédric Bakambu - (Beijing Sinobo Guoan FC)",
			"Willian José - (Real Sociedad)",
			"Mário Fernandes - (PFC CSKA Moscow)",
			"Ante Rebić - (Milan)",
			"Willian - (Chelsea)",
			"Diego Costa - (Atlético Madrid)",
			"Falcao - (Galatasaray SK)",
			"Franck Ribéry - (Fiorentina)",
			"Jesús Navas - (Sevilla FC)",
			"Loren - (Real Betis)",
			"Maximiliano Gómez - (Valencia CF)"
		]
	}
}

var results = [];

function shuffle(array) {
  var currentIndex = array.length, temporaryValue, randomIndex;

  // While there remain elements to shuffle...
  while (0 !== currentIndex) {

    // Pick a remaining element...
    randomIndex = Math.floor(Math.random() * currentIndex);
    currentIndex -= 1;

    // And swap it with the current element.
    temporaryValue = array[currentIndex];
    array[currentIndex] = array[randomIndex];
    array[randomIndex] = temporaryValue;
  }

  return array;
}

function escolherTimes() {

	//Escolha dos times
	console.log("=================================")
	console.log("=== Escolha dos times ===========")
	console.log("=================================")
	var competidores = shuffle(estrutura.participantes);
	for (var i=0;i<competidores.length;i++) {
		console.log("O competidor " + competidores[i] + " jogara com time " + estrutura.times[i]);
		results[competidores[i]] = {};
		results[competidores[i]].nome = competidores[i];
		results[competidores[i]].time = estrutura.times[i];
		results[competidores[i]].jogadores = [];
	}

}

function escolherJogadores() {
	//Escolha dos jogadores
	for (var i=0;i<estrutura.posicoes.length;i++) {
		console.log("=====================================")
		console.log("= Posicao a ser escolhida: " + estrutura.posicoes[i]);
		console.log("=====================================")
		
		var competidores = shuffle(estrutura.participantes);
		for (var j=0;j<competidores.length;j++) {
			console.log("O competidor " + competidores[j] + " jogara com o " + estrutura.posicoes[i] + " - " + estrutura.jogadores[estrutura.posicoes[i]][j]);
			results[competidores[j]].jogadores.push(estrutura.posicoes[i] + " - " + estrutura.jogadores[estrutura.posicoes[i]][j]);
		}
	}

}

function gerarTimes() {
	document.getElementById('estrutura').style.display = "none";
	var nova_estrutura = document.getElementById("ta_estrutura").value;
	estrutura = nova_estrutura ? JSON.parse(nova_estrutura) : estrutura;

	document.getElementById('resultados').innerHTML = "";
	results = [];
	escolherTimes();
	escolherJogadores();
	imprimirResultados();
	definirOrdemTrocas();
}

//Imprimir resultados
function imprimirResultados() {
	for (var key in results) {
		document.getElementById('resultados').innerHTML += "<b>" + results[key].nome + " - " + results[key].time + "<br></b>";
		for (var i=0;i<results[key].jogadores.length;i++) {
			document.getElementById('resultados').innerHTML += results[key].jogadores[i] + "<br>";
		}
		document.getElementById('resultados').innerHTML += "<br><br>"
	}
}

function mostrarEstrutura() {
	document.getElementById('estrutura').style.display = "";
	document.getElementById('ta_estrutura').value = JSON.stringify(estrutura, undefined, 4);
}

function definirOrdemTrocas() {
	
	document.getElementById('resultados').innerHTML += "<br><br><b>Ordem das trocas</b><br><br>"
	var competidores = shuffle(estrutura.participantes);
	document.getElementById('resultados').innerHTML += "1) " + competidores.join(",") + "<br>";
	/*competidores = shuffle(estrutura.participantes);
	document.getElementById('resultados').innerHTML += "2) " + competidores.join(",") + "<br>";
	competidores = shuffle(estrutura.participantes);
	document.getElementById('resultados').innerHTML += "3) " + competidores.join(",") + "<br>";*/
}